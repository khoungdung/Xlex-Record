<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XLEX RECORDS</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <style>
        :root {
            --bg-color: #0F0F13;
            --text-primary: #FFFFFF;
            --text-secondary: #E0E0E0;
            --accent-color: #00D1FF;
            --card-bg: #1A1A23;
        }

        /* Basic Styles */
        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-secondary);
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            line-height: 1.6;
        }

        h1,
        h2,
        h3 {
            font-family: 'Cinzel', serif;
            color: var(--text-primary);
        }

        a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: var(--accent-color);
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Section Styles */
        section {
            padding: 100px 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* Hero Section */
        #hero {
            height: 100vh;
            text-align: center;
            flex-direction: column;
            overflow: hidden;
        }

        #hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(0, 209, 255, 0.1) 0%, rgba(0, 209, 255, 0) 50%);
            animation: pulse-effect 10s infinite;
            pointer-events: none;
        }

        @keyframes pulse-effect {
            0% {
                transform: scale(0.5);
                opacity: 0.2;
            }
            50% {
                transform: scale(1.5);
                opacity: 0.6;
            }
            100% {
                transform: scale(0.5);
                opacity: 0.2;
            }
        }

        .hero-content {
            z-index: 2;
        }

        .hero-content h1 {
            font-size: 6rem;
            text-transform: uppercase;
            letter-spacing: 5px;
            opacity: 0;
        }

        .hero-content p {
            font-size: 1.5rem;
            margin-top: 20px;
            opacity: 0;
        }
        
        #hero-scroll-btn {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            color: var(--accent-color);
            font-size: 2rem;
            animation: bounce 2s infinite;
            z-index: 2;
            cursor: pointer;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-20px);
            }
            60% {
                transform: translateY(-10px);
            }
        }

        /* About Section */
        #about {
            text-align: center;
            flex-direction: column;
        }

        .about-text {
            max-width: 800px;
            font-size: 1.2rem;
        }

        .about-text p {
            opacity: 0;
            transform: translateY(20px);
        }

        /* Music Section */
        #music {
            flex-direction: column;
            text-align: center;
        }

        .music-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 50px;
        }

        .track-card {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid transparent;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        }

        .track-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
            border-color: var(--accent-color);
        }

        .track-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, var(--accent-color) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            transform: scale(0);
        }

        .track-card:hover::before {
            opacity: 0.1;
            transform: scale(1.5);
        }

        .track-card.playing {
            border-color: var(--accent-color);
            box-shadow: 0 0 20px var(--accent-color);
            position: relative;
        }

        .track-card.playing::after {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--accent-color), transparent);
            z-index: -1;
            border-radius: 12px;
            animation: track-glow 2s infinite ease-in-out;
        }

        @keyframes track-glow {
            0% {
                box-shadow: 0 0 5px var(--accent-color), 0 0 10px var(--accent-color);
            }
            50% {
                box-shadow: 0 0 15px var(--accent-color), 0 0 25px var(--accent-color);
            }
            100% {
                box-shadow: 0 0 5px var(--accent-color), 0 0 10px var(--accent-color);
            }
        }

        .track-number {
            font-size: 5rem;
            font-family: 'Cinzel', serif;
            color: rgba(255, 255, 255, 0.05);
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 1;
        }

        .track-content {
            position: relative;
            z-index: 2;
            text-align: left;
        }

        .track-content h3 {
            font-size: 1.5rem;
            margin-bottom: 5px;
            color: var(--accent-color);
        }

        .track-content h3.artist-name {
            font-size: 1.2rem;
            color: var(--text-primary);
        }
        
        .track-content p {
            font-size: 0.9rem;
            margin: 5px 0;
        }

        .track-card button {
            background: none;
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            position: absolute;
            bottom: 20px;
            right: 20px;
            transition: all 0.3s ease;
            z-index: 3;
        }

        .track-card button:hover {
            background-color: var(--accent-color);
            color: var(--bg-color);
            transform: scale(1.1);
        }

        /* Mini Player */
        #mini-player {
            position: fixed;
            bottom: -100px;
            left: 0;
            width: 100%;
            background-color: var(--card-bg);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 10;
            transition: bottom 0.5s ease;
        }

        #mini-player.active {
            bottom: 0;
        }

        .player-controls {
            display: flex;
            align-items: center;
        }

        .player-controls button {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
            margin: 0 10px;
            transition: color 0.3s ease;
        }
        
        .player-controls button:hover {
            color: var(--accent-color);
        }

        #progress-bar {
            flex-grow: 1;
            height: 5px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 0 20px;
            cursor: pointer;
            position: relative;
        }

        #progress {
            height: 100%;
            width: 0%;
            background-color: var(--accent-color);
            border-radius: 5px;
            transition: width 0.1s linear;
        }

        #progress-handle {
            width: 15px;
            height: 15px;
            background-color: var(--accent-color);
            border-radius: 50%;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: 0;
            cursor: pointer;
            display: none;
        }

        #progress-bar:hover #progress-handle {
            display: block;
        }

        .player-info {
            display: flex;
            flex-direction: column;
        }

        .player-info h4 {
            margin: 0;
            font-size: 1.2rem;
            color: var(--text-primary);
        }

        .player-info p {
            margin: 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .time-display {
            display: flex;
            gap: 10px;
        }

        /* Footer */
        #footer {
            text-align: center;
            padding: 50px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 50px;
        }

        .footer-logo {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--text-primary);
            font-family: 'Cinzel', serif;
        }

        .social-icons a {
            font-size: 1.5rem;
            margin: 0 10px;
            transition: color 0.3s ease, transform 0.3s ease;
        }

        .social-icons a:hover {
            color: var(--accent-color);
            transform: scale(1.2);
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 3rem;
            }
            .hero-content p {
                font-size: 1rem;
            }
            .about-text {
                font-size: 1rem;
            }
            .track-card {
                padding: 20px;
            }
            .track-content h3 {
                font-size: 1.2rem;
            }
            .track-content h3.artist-name {
                font-size: 1rem;
            }
            #mini-player {
                flex-direction: column;
            }
            .player-controls {
                margin-top: 10px;
            }
            .player-info {
                text-align: center;
                margin-bottom: 10px;
            }
            .time-display {
                gap: 5px;
            }
        }
        
    </style>
</head>

<body>

    <section id="hero">
        <div class="hero-content">
            <h1 id="hero-title">XLEX RECORDS</h1>
            <p id="hero-slogan">Where Creativity Meets Sound</p>
        </div>
        <a href="#about" id="hero-scroll-btn"><i class="fas fa-chevron-down"></i></a>
    </section>

    <section id="about">
        <div class="container">
            <h2>About XLEX</h2>
            <div class="about-text">
                <p class="fade-in-p">XLEX RECORDS is an independent music label dedicated to cultivating and promoting groundbreaking artists and sounds.</p>
                <p class="fade-in-p">We believe in the power of music to tell stories and evoke emotions, pushing the creative boundaries of the Vietnamese music scene.</p>
            </div>
        </div>
    </section>

    <section id="music">
        <div class="container">
            <h2>Our Sounds</h2>
            <div class="music-list" id="music-list">
                <!-- Track Cards will be injected here by JS -->
            </div>
        </div>
    </section>

    <footer id="footer">
        <div class="container">
            <h3 class="footer-logo">XLEX RECORDS</h3>
            <div class="social-icons">
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-spotify"></i></a>
            </div>
            <p>© 2024 XLEX RECORDS. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Mini Player Section -->
    <div id="mini-player">
        <div class="player-info">
            <h4 id="current-track-title"></h4>
            <p id="current-track-artist"></p>
        </div>
        <div class="player-controls">
            <button id="prev-btn"><i class="fas fa-backward"></i></button>
            <button id="play-pause-btn"><i class="fas fa-play"></i></button>
            <button id="next-btn"><i class="fas fa-forward"></i></button>
        </div>
        <div id="progress-bar">
            <div id="progress"></div>
        </div>
        <div class="time-display">
            <span id="current-time">0:00</span> / <span id="total-time">0:00</span>
        </div>
        <div id="volume-control">
            <input type="range" id="volume-slider" min="0" max="100" value="100">
        </div>
    </div>
    
    <!-- This div is for the YouTube IFrame. It will be hidden and only used for audio. -->
    <div id="player-container" style="position: absolute; width: 0; height: 0; overflow: hidden; opacity: 0;"></div>

    <script>
        // Data for the tracks
        const tracks = [
            {
                title: 'COMOIEM',
                artist: 'TPOWLER',
                link: 'https://youtu.be/2d_DGqOhVTU?si=goDENsm40wuth4BV',
                details: [
                    'Executive Producer: XLEX MEDIA',
                    'Composer: TPOWLER',
                    'Music Producer: DPablo',
                    'Mixing/Mastering Engineer: DPablo',
                    'Artwork & Video Lyrics: Tuyz'
                ]
            },
            {
                title: 'Không Phai',
                artist: 'Kar D. Boy',
                link: 'https://youtu.be/g03I58nQVqM?si=STK74cZv6Y4CsiHz',
                details: [
                    'Executive Producer: XLEX Media Music',
                    'Composer: Kar D. Boy',
                    'Music Producer: Kar D. Boy',
                    'Mixing/Mastering Engineer: DPablo',
                    'Video MV: Kar D. Boy'
                ]
            },
            {
                title: 'Bệ Phóng',
                artist: 'Lil Kilz. Ft. Lil White',
                link: 'https://youtu.be/SrxyKtpnzGc?si=tG4ftGOVAizCCMnR',
                details: [
                    'Executive Producer: XLEX Media Music',
                    'Composer: Lil Kilz x Lil White',
                    'Music Producer: DPablo',
                    'Mixing/Mastering Engineer: DPablo',
                    'Artwork & Video Lyrics: Tuyz'
                ]
            },
            {
                title: 'Làm Bạn Với Âm Nhạc',
                artist: 'Vijt.',
                link: 'https://youtu.be/XnnDI_UqIOA?si=Zg0exCFdYLwujIuL',
                details: [
                    'Executive Producer: XLEX Media Music',
                    'Composer: Vijt.',
                    'Music Producer: DPablo',
                    'Mixing/Mastering Engineer: DPablo, Vijt.',
                    'Artwork & Video Lyrics: Tuyz'
                ]
            },
            {
                title: 'Cơn Mưa Và Nỗi Nhớ',
                artist: 'B/roly ft. Kar D.Boy',
                link: 'https://youtu.be/vW1I5r5JAr4?si=S19z9YyUZKGeWcPT',
                details: [
                    'Executive Producer: XLEX Media Music',
                    'Composer: B/roly, Kar D.Boy',
                    'Arranger & Music Producer: CelreX',
                    'RAP: Kar D.Boy',
                    'Mixing/Mastering Engineer: DPablo, Puffin',
                    'Artists: B/roly, Kar D.Boy, CelreX',
                    'Video Lyrics: XLEX Media Music'
                ]
            },
            {
                title: 'Chúng Ta Đã Yêu Nhau Xong Rồi',
                artist: 'Vijt',
                link: 'https://youtu.be/HtSZcicN3Pg?si=AWvG9AcF8XvauikW',
                details: [
                    'Produced by XLEX Media Music',
                    'Composer: Vijt',
                    'Music Producer: CelreX',
                    'Mixing Engineer: Vijt',
                    'Mastering Engineers: CelreX',
                    'Video Lyrics: Phạm Quyết (XLEX Media Music)'
                ]
            },
        ];

        // GSAP Animations
        gsap.registerPlugin(ScrollTrigger);

        // Hero section animations
        const heroTitle = document.getElementById('hero-title');
        const heroSlogan = document.getElementById('hero-slogan');
        const heroBtn = document.getElementById('hero-scroll-btn');

        gsap.fromTo(heroTitle, { opacity: 0, y: 50 }, { opacity: 1, y: 0, duration: 1.5, ease: 'power4.out' });
        gsap.fromTo(heroSlogan, { opacity: 0, y: 50 }, { opacity: 1, y: 0, duration: 1.5, delay: 0.5, ease: 'power4.out' });
        
        // About section fade-in
        const aboutSection = document.getElementById('about');
        gsap.utils.toArray('.fade-in-p').forEach((p, i) => {
            gsap.fromTo(p, { opacity: 0, y: 20 }, {
                opacity: 1,
                y: 0,
                duration: 1,
                ease: 'power2.out',
                scrollTrigger: {
                    trigger: aboutSection,
                    start: 'top 80%',
                    toggleActions: 'play none none none',
                    once: true,
                    delay: i * 0.2
                }
            });
        });

        // Music section animations
        const musicList = document.getElementById('music-list');
        gsap.from(musicList.children, {
            opacity: 0,
            y: 50,
            stagger: 0.2,
            duration: 1,
            ease: 'power2.out',
            scrollTrigger: {
                trigger: musicList,
                start: 'top 80%',
                toggleActions: 'play none none none',
                once: true
            }
        });

        // Music Player Logic
        let player;
        let currentTrackIndex = 0;
        let isPlayerReady = false;
        let playerState = -1; // -1: unstarted, 0: ended, 1: playing, 2: paused

        // Create YouTube player
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player-container', {
                height: '0',
                width: '0',
                playerVars: {
                    playsinline: 1,
                    modestbranding: 1,
                    showinfo: 0,
                    rel: 0,
                    iv_load_policy: 3,
                    controls: 0,
                    disablekb: 1,
                    enablejsapi: 1,
                    autoplay: 0
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        function onPlayerReady(event) {
            isPlayerReady = true;
            loadAndPlayTrack(0); // Load the first track on page load
        }

        function onPlayerStateChange(event) {
            playerState = event.data;
            const playPauseBtn = document.getElementById('play-pause-btn');
            const trackCards = document.querySelectorAll('.track-card');
            
            // Check for playing state
            if (event.data === YT.PlayerState.PLAYING) {
                // Audio is playing
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                document.getElementById('mini-player').classList.add('active');
                trackCards.forEach(card => card.classList.remove('playing'));
                trackCards[currentTrackIndex].classList.add('playing');
                updateProgressBar();
            } else {
                // Audio is paused, ended, etc.
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                // Remove playing class from all cards
                trackCards.forEach(card => card.classList.remove('playing'));
            }
        }

        function loadAndPlayTrack(index) {
            if (!isPlayerReady || index < 0 || index >= tracks.length) return;
            currentTrackIndex = index;
            const videoId = tracks[index].link.split('v=')[1] || tracks[index].link.split('youtu.be/')[1].split('?')[0];
            player.loadVideoById(videoId);
            player.playVideo();
            updateMiniPlayerInfo(tracks[index]);
            document.getElementById('progress-handle').style.display = 'block';
        }

        function togglePlayPause() {
            if (!isPlayerReady) return;
            if (playerState === YT.PlayerState.PLAYING) {
                player.pauseVideo();
            } else {
                player.playVideo();
            }
        }

        function playNextTrack() {
            const nextIndex = (currentTrackIndex + 1) % tracks.length;
            loadAndPlayTrack(nextIndex);
        }

        function playPrevTrack() {
            const prevIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;
            loadAndPlayTrack(prevIndex);
        }

        // Update Mini Player UI
        function updateMiniPlayerInfo(track) {
            document.getElementById('current-track-title').textContent = track.title;
            document.getElementById('current-track-artist').textContent = track.artist;
        }

        function updateProgressBar() {
            if (playerState === YT.PlayerState.PLAYING) {
                const currentTime = player.getCurrentTime();
                const totalTime = player.getDuration();
                const progress = (currentTime / totalTime) * 100;
                document.getElementById('progress').style.width = `${progress}%`;
                document.getElementById('progress-handle').style.left = `calc(${progress}% - 7.5px)`;
                
                document.getElementById('current-time').textContent = formatTime(currentTime);
                document.getElementById('total-time').textContent = formatTime(totalTime);

                requestAnimationFrame(updateProgressBar);
            }
        }
        
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = Math.floor(seconds % 60);
            return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
        }
        
        function setVolume(value) {
            if (isPlayerReady) {
                player.setVolume(value);
            }
        }

        // Handle progress bar click
        document.getElementById('progress-bar').addEventListener('click', (e) => {
            const progressBar = e.currentTarget;
            const clickPosition = e.clientX - progressBar.getBoundingClientRect().left;
            const totalWidth = progressBar.offsetWidth;
            const newTime = (clickPosition / totalWidth) * player.getDuration();
            player.seekTo(newTime, true);
        });
        
        // Handle volume slider change
        document.getElementById('volume-slider').addEventListener('input', (e) => {
            setVolume(e.target.value);
        });

        // Event listeners for Mini Player controls
        document.getElementById('play-pause-btn').addEventListener('click', togglePlayPause);
        document.getElementById('next-btn').addEventListener('click', playNextTrack);
        document.getElementById('prev-btn').addEventListener('click', playPrevTrack);

        // Dynamically create track cards
        document.addEventListener('DOMContentLoaded', () => {
            const musicListContainer = document.getElementById('music-list');
            tracks.forEach((track, index) => {
                const card = document.createElement('div');
                card.classList.add('track-card');
                card.innerHTML = `
                    <div class="track-number">${(index + 1).toString().padStart(2, '0')}</div>
                    <div class="track-content">
                        <h3>${track.title}</h3>
                        <h3 class="artist-name">${track.artist}</h3>
                        <div class="track-details">
                            ${track.details.map(detail => `<p>${detail}</p>`).join('')}
                        </div>
                        <button class="play-btn" data-index="${index}"><i class="fas fa-play"></i></button>
                    </div>
                `;
                musicListContainer.appendChild(card);
            });

            // Add play button listeners
            document.querySelectorAll('.play-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const index = parseInt(e.currentTarget.dataset.index, 10);
                    if (index === currentTrackIndex && playerState === YT.PlayerState.PLAYING) {
                        togglePlayPause();
                    } else {
                        loadAndPlayTrack(index);
                    }
                });
            });
        });
        
        // Handle mobile touch for scroll button
        const scrollBtn = document.getElementById('hero-scroll-btn');
        if (scrollBtn) {
            scrollBtn.addEventListener('click', (e) => {
                e.preventDefault();
                document.getElementById('about').scrollIntoView({ behavior: 'smooth' });
            });
        }
        
    </script>

</body>

</html>
